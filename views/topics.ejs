<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="/static/frontend/css/main_styles.css">
    <link rel="stylesheet" href="/static/frontend/css/font/font.css">
    <link rel="stylesheet" href="/static/frontend/css/statistic.css">
    <link rel="stylesheet" href="/static/frontend/css/rippleEffect.css">
    <link rel="stylesheet" href="/static/frontend/css/menu/menu.css">
</head>
<body>
    <div class="F21sW0EW">
        <div class="ud0AdBs">
            <%- include('partials/head') -%>
        </div>
        <div class="G1qVSlLk">
            <div class="aSEQzkJ jsxW">
                <div class="OePZjKkR">
                    Доступные темы
                </div>
                <div class="xWDJRVpY">
                    <div class="Acl360RTd">
                        <div class="QprDheCS">
                                    <div class="DSCwycxc">

                                    <% if (elements.length === 0) { %>
                                        <div id="error">
                                            <iron-icon><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill='#000000b4' viewBox="0 0 24 24"><path d="M4.47 21h15.06c1.54 0 2.5-1.67 1.73-3L13.73 4.99c-.77-1.33-2.69-1.33-3.46 0L2.74 18c-.77 1.33.19 3 1.73 3zM12 14c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1s1 .45 1 1v2c0 .55-.45 1-1 1zm1 4h-2v-2h2v2z"/></svg></iron-icon> 
                                            <div class="error_msg">
                                                Список тем пуст
                                            </div>
                                        </div>
                                    <% } else { %>
                                        
                                        <% elements.forEach(function(element){ %>
                                            <div class="item">
                                                <div class="iP8AakXX">
                                                    <div class="TcP5fc"><span>Название:</span> <%= element.title %></div>
                                                    <div class="TcP5fc"><span>Предмет:</span> <%= element.subject %> </div>
                                                    <div class="TcP5fc"><span>Уровень подготовки:</span> <% if (element.semester <= 22) { %><%= Math.ceil(element.semester / 2) %> класс, <%= 2 - (element.semester % 2) %> семестр<% } else { %>Высшее образвание<% } %> </div>
                                                </div>
                                                <% if (user.type >= 2 && user.verified) { %>
                                                    <div class="mFoSk7v">
                                                        <form action="/delete_topic/<%= element.id %>" method="POST">
                                                            <button type="submit" value="delete">
                                                                <iron-icon class="IsQ"><svg xmlns="http://www.w3.org/2000/svg" fill='#5f6368'width="18" height="18" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/><path d="M0 0h24v24H0z" fill="none"/></svg></iron-icon>                                       
                                                            </button>
                                                        </form>
                                                    </div>
                                                <% } %>
                                            </div>
                                        <% }); %>
                                    <% } %>
                        </div>
                        <% if (user.type >= 2 && user.verified) { %>
                            <div class="f7nSQKRPZ">
                                <form action="/create_topic" method="GET">
                                    <button type="submit" value="Создать тему" class="dAWDJJKQA2dikdas" button-tamplate ripple enter disable-select>Создать тему</button>
                                </form>
                            </div>
                        <% } %>
                     </div>
                    </div>
                
                </div> 
                <div class='state'>
                        <% if (pages_num > 0) { %>
                            <div class="num_state">
                                <span class="this_state">
                                    Страница <%= page %> из <%= pages_num %>
                                </span>
                                <span class="more_state">
                                    <% for (var i = 1; i <= pages_num; i++) { %>
                                        <a href="topics?page=<%= i %>"><% if (i === page) { %><%= i %><% } else { %><%= i %><% } %></a>   
                                    <% } %>
                                </span>

                            </div>
                            
                        <% } %>
                    </div>
            </div>
        </div>
    </div>
    <%- include('partials/menu') -%>

    <script src="/static/frontend/front/app.js" type="module"></script>
    <script src="/static/frontend/front/enter.js" type="module"></script>
    <script src="/static/frontend/front/statapp.js" type="module"></script>
</body>
</html>

    













